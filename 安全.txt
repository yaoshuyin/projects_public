.数据泄露
.入侵
.安全意识、法律法规、能用技术
.网络安全工程师
.运维工程师
.运维架构师
.linux在网站服务器操作系统中比率>37%
.FTP/电子邮件/域名服务器/大数据
.旨在感染linux设备的加密货币挖矿恶意程序Linux.BtcMine.174
.严密防御、积极主动安全扫描、入侵检测系统
.安全管理制度、流程保障
.保障业务和数据安全
.机密性(Confidentiality)
 完整性(Integrity)
   一致性Consistency
   准确性Accuracy
   可信赖性Trustworthiness

 可用性(Availability)
.防止未经授权的访问、使用、泄露、中断、修改或破坏
.帐号、流水、余额、个人信息、客户联系信息
.日志要脱敏
.不可在日志、数据库、文件存储信用卡验证码(CVV2,CVC2,CID,CAV2)
.网络安全与隐私保护作为公司的最高纲领
.产品有良好的抗攻击能力、保护业务和数据的机密性、完整性、可用性
.安全取决于防护最薄弱的环节
.产生、收集、处理、传输、分析、存档或销毁
.保障信息安全
.威胁分析模型
.STRIDE模型
 微软的STRIDE模型是常用的威胁模型之一
  Spoofing identity   身份欺骗      (针对用户认证)
  Tampering with data 篡改数据
  Repudiation            否认性    (否认，说没有做过)
  Information disclosure 信息泄露
  Denial of service      拒绝服务  （网站瘫痪)
  Elevation of privilege 提权

  身（份）篡（改）否（了吗)？ 信(这个人呀）拒（绝）提（之）

.威胁
 木马后门
 病毒和蠕虫
 黑客渗透
 系统漏洞
 应用逻辑、Bug
 拒绝服务
 硬件故障
 网络故障
 电力、水、火、地震等不可抗力自然灾害
 社会工程
 内部人员威胁：误操作、恶意、泄露
 60%的攻击是由内部人员直接或间接发起的
.DoS (Denial of Service) 拒绝服务
 DDoS (Distributed Denial of Service) 分布式拒绝服务
.安全不是一劳永逸的
.纵深防御（又叫城堡法）: 批实施多层防护
   网络与基础设施防御
   区域边界防御
   计算环境防御
   支撑性基础设施等深度防御目标
     物理安全：物理隔离、加锁、安保
     网络安全：防火墙
     主机安全：用户安全、软件包管理、文件系统防护
     应用安全：web安全、应用安全
     数据加密
 运用PDCA模型：
   Plan:
     梳理资产：
       被遗忘的资产往往会成为入侵的目标，也较难发现
       看得全、理得清、查得到
       配置管理数据库CMDB
       网段扫描
       网络流量分析
       对相关人员：业务方、运营方、开发方、运维方进行访谈
       IP地址、域名、证书、平台...

     制定安全策略:
       包括技术（工具、系统、平台）策略


       安全管理策略（制度和流程)
          安全策略实施方法
          实施负责人
          实施步骤
          实施周期
          验证方案、检查
            自我检查
            漏洞扫描
            网络扫描
            应用扫描
            渗透测试
       物理防护、网络防护、主机防护、应用防护、数据防护
   Do

   Check
   Act
 最小权限法则
   给任何人员最小的权限
   网络访问权限控制，不被外部访问
   使用普通用户监听非特权应用
   chroot或容器
   报表一般授予select即可
   Redis配置密码认证
 白名单机制
   默认拒绝一切
   仅允许许可的
 安全地失败
 入侵检测
.使用入侵检测系统
   网络入侵检测
   主机入侵检测
     文件完整性
     被篡改
     网络连接
     进程行为
     日志字符串匹配
.第三方接口安全
   比如银行支付接口、短信通道接口
   如何进行接口安全性验证、防止被篡改
.密码安全
   复杂性
   有效期限
   删除无用默认帐号
.社会工程
   钓鱼网站、邮件
   木马网站、邮件
   软件病毒
.禁止使用破解版软件
   破解版的Oracle PL/SQL导致Oracle数据库被锁定
   汉化版本的PuTTY/WinSCP/SSHSecure工具内置黑客后门，导致3万多服务器的帐号密码被上传到黑客服务器上

.iptables、asa、juniper、Tcp Wrappers、DenyHosts

.OSI7层
 应用层 Application
 表示层 Presentation
 会话层 Session
 传输层 Transport
   Segment / Datagram
 网络层 Network
   Packet
 数据链路层 Data link
   Frame
 物理层 Physical
   Bit

.防火墙
  源目IP、端口
  ASA
  Juniper
  USG
  深信服

  禁Ping
  关闭无用端口、服务
  仅允许指定来源
.SYNFlood
  攻击程序在填充包头时，IP首部和TCP头部都不填充可选字段，因此IP/TCP首部长度是20字节,共40字节，对互联网来说最小包长必须不小于46字节，从而攻击报文只有40字节，在网卡发送时，会做一些处理，在TCP首部的末尾填充6个0来满足最小包长要求，这时一共60字节，
  再加上其它的一共84字节，

  SYNFlood攻击大量消耗服务器的CPU\内存、并占满SYN等待队列

  #启用SYN Cookie
  net.ipv5.tcp_syncookies = 1
  #设置SYN最大队列长度
  net.ipv4.tcp_max_syn_backlog = 8192
  #SYN+ACK最大重试次数
  net.ipv4.tcp_synack_retries = 2

  SYN Cookie可以缓解服务器资源压力
  启用之前，服务器在收到SYN数据包后，立即分配存储空间，并随机化一个数字做为SYN号发送一个SYN+ACK给客户端，然后保存连接的状态信息等待客户端确认

  启用SYN Cookie之后，服务器不再分配存储空间，而且通过基于时间种子的随机数算法设置一个SYN号，替换完全随机的SYN号。发完SYN+ACK确认报文后，清空资源不保存任何状态信息，直到接到客户端的最终ACK包，通过Cookie检验算法鉴定是否与发出去的SYN+ACK报文序列号匹配，匹配则握手，否则丢弃

.TCP Proxy
.清洗设备
.HTTP Flood
.防篡改，校验MD5哈希值
 md5sum a.txt

.分区加密
 luks软件
 可加密整块设备

.杀死正在使用的进程
 fuser -mvk /home

.启用sudo
.nmap扫描主机
nmap -T4 -sP 192.168.0.1-100
nmap -sS -n -PN -p21 -T4 192.168.1.1-100

.SQL注入
.XSS跨站脚本攻击
.用户输入数据安全检查

.XSS filter
Anti-Samy
HTMLPurify

.CSRF
.SQL
.文件上传漏洞
  禁止对上传的做动态程序解析
  扫描病毒、木马
  限制上传文件类型
  可以对上传的图片进行格式化、图片压缩来改变图片内容，从而使攻击失效
  xxx.php\0.jpg
  改变上传后的路径
  使用单独的域名，利用跨站限制攻击

.认证
  authentication
  authorization

.密码 OWASP策略
  长度
  特殊符号
  不能连续
  不能英文或其它简易词汇
  避免重复字符
  姓名
  昵称
  生日
  电话
  邮箱
  常见名称
  QQ号
  常见弱口令
  不可逆的加密算法
  单向散列函数算法
  密文存储
  在不同网站不同的密码，防止被撞库
